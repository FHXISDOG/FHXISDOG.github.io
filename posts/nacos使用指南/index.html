<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.57.2" />

  <title>nacos使用指南 &middot; FHXISDOG</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://fhxisdog.github.io/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://fhxisdog.github.io/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="https://fhxisdog.github.io/css/blackburn.css">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

 
  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/androidstudio.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="https://fhxisdog.github.io/img/favicon.ico" type="image/x-icon" />

  
    
        <link rel="stylesheet" href="https://fhxisdog.github.io/css/my.css">
    
  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  
  <a class="pure-menu-heading brand" href="https://fhxisdog.github.io/">
    <img src="https://fhxisdog.github.io/brand/brand.png"  width="130px"/>
  </a>


  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://fhxisdog.github.io/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://fhxisdog.github.io/posts/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://fhxisdog.github.io/tags/"><i class='fa fa-tags fa-fw'></i>Tags</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://fhxisdog.github.io/topics/"><i class='fa fa-folder fa-fw'></i>Topic</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://fhxisdog.github.io/about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/FHXISDOG" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>&copy; 2019. All rights reserved.</small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>nacos使用指南</h1>
  <h2></h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>29 May 2019, 15:33</time>
  </div>

  

  
  
  
  <div>
    <i class="fa fa-folder fa-fw"></i>
    
      <a class="post-taxonomy-topic" href="https://fhxisdog.github.io/topics/nacos">nacos</a>
    
  </div>
  
  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="https://fhxisdog.github.io/tags/java">java</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://fhxisdog.github.io/tags/nacos">nacos</a>&nbsp;&#47;
    
      <a class="post-taxonomy-tag" href="https://fhxisdog.github.io/tags/spring-cloud">spring cloud</a>
    
  </div>
  
  

</div>

  

<h1 id="服务启动">服务启动</h1>

<h2 id="本地单机启动">本地单机启动</h2>

<h3 id="下载源码">下载源码</h3>

<h4 id="从github上下载源码方式">从github上下载源码方式:</h4>

<pre><code>git clone https://github.com/alibaba/nacos.git
cd nacos/
mvn -Prelease-nacos clean install -U  
ls -al distribution/target/

// change the $version to your actual path
cd distribution/target/nacos-server-$version/nacos/bin
</code></pre>

<h4 id="下载编译后压缩包方式">下载编译后压缩包方式</h4>

<p>从 <a href="https://github.com/alibaba/nacos/releases">最新稳定版本</a> 下载 nacos-server-$version.zip 包</p>

<pre><code> unzip nacos-server-$version.zip 或者 tar -xvf nacos-server-$version.tar.gz
 cd nacos/bin
</code></pre>

<h3 id="启动服务">启动服务</h3>

<h4 id="linux-unix-mac">Linux/Unix/Mac</h4>

<pre><code>sh startup.sh -m standalone
</code></pre>

<h4 id="windows">windows</h4>

<pre><code>cmd startup.cmd

</code></pre>

<p>或者双击startup.cmd运行文件。</p>

<h3 id="测试">测试</h3>

<p>浏览器访问:<code>localhost:8848/nacos</code>(默认用户名/密码:nacos/nacos)</p>

<h2 id="单机无数据库docker启动">单机无数据库docker启动</h2>

<h3 id="下载镜像">下载镜像</h3>

<pre><code>docker pull nacos/nacos-server
</code></pre>

<h3 id="启动docker">启动docker</h3>

<pre><code>docker run -d --name nacos -e PREFER_HOST_NAME=hostname -e MODE=standalone -e SPRING_DATASOURCE_PLATFORM=empty -p 8848:8848 nacos/nacos-server
</code></pre>

<h2 id="docker-mysql启动">docker mysql启动</h2>

<h3 id="新建-nacos-standalone-文件夹-新建-standalone-env-文件">新建<code>nacos-standalone</code>文件夹，新建<code>standalone.env</code>文件:</h3>

<pre><code>PREFER_HOST_NAME=hostname
MODE=standalone
SPRING_DATASOURCE_PLATFORM=mysql
DB.NUM=1
MYSQL_MASTER_SERVICE_HOST=iotechina-dev-mysql-5.7.26
MYSQL_MASTER_SERVICE_DB_NAME=nacos
MYSQL_MASTER_SERVICE_PORT=3306
MYSQL_MASTER_SERVICE_USER=root
MYSQL_MASTER_SERVICE_PASSWORD=you know
</code></pre>

<h3 id="将mysql连接到nacos网络">将mysql连接到nacos网络</h3>

<pre><code>docker network create nacos

docker network connect nacos iotechina-dev-mysql-5.7.26
</code></pre>

<h3 id="启动">启动</h3>

<pre><code>docker run -d --name nacos --env-file=standalone.env --network nacos  -p 8848:8848 nacos/nacos-server
</code></pre>

<h2 id="docker-compose启动">docker-compose启动</h2>

<h3 id="新建nacos文件夹">新建nacos文件夹</h3>

<h3 id="新建docker-compose-yml文件">新建docker-compose.yml文件</h3>

<pre><code>version: &quot;3&quot;
networks:
  nacos:
    external: true
services:
  nacos1:
    hostname: nacos1
    container_name: nacos1
    image: nacos/nacos-server:latest
    volumes:
      - ./cluster-logs/nacos1:/home/nacos/logs
      - ./init.d/custom.properties:/home/nacos/init.d/custom.properties
    ports:
      - &quot;8848:8848&quot;
      - &quot;9555:9555&quot;
    env_file:
      - ./env/nacos-hostname.env
    external_links:
	- iotechina-dev-mysql-5.7.26
	networks:
    	- nacos
    restart: on-failure


  nacos2:
    hostname: nacos2
    image: nacos/nacos-server:latest
    container_name: nacos2
    volumes:
      - ./cluster-logs/nacos2:/home/nacos/logs
      - ./init.d/custom.properties:/home/nacos/init.d/custom.properties
    ports:
      - &quot;8849:8848&quot;
    external_links:
	- iotechina-dev-mysql-5.7.26
    env_file:
      - ./env/nacos-hostname.env
    restart: on-failure
	networks:
    	- nacos
  nacos3:
    hostname: nacos3
    image: nacos/nacos-server:latest
    container_name: nacos3
    volumes:
      - ./cluster-logs/nacos3:/home/nacos/logs
      - ./init.d/custom.properties:/home/nacos/init.d/custom.properties
    ports:
      - &quot;8850:8848&quot;
    external_links:
	- iotechina-dev-mysql-5.7.26
    env_file:
      - ./env/nacos-hostname.env
    restart: on-failure
	networks:
    	- nacos    
</code></pre>

<h3 id="复制-官方docker配置-https-github-com-nacos-group-nacos-docker-blob-master-example-cluster-hostname-yaml-到-nacos目录对应的文件夹">复制<a href="https://github.com/nacos-group/nacos-docker/blob/master/example/cluster-hostname.yaml">官方docker配置</a>到 nacos目录对应的文件夹</h3>

<h3 id="编辑-nacos-env-nacos-hostname-env">编辑<code>nacos/env/nacos-hostname.env</code></h3>

<pre><code>#nacos dev env
PREFER_HOST_MODE=hostname
NACOS_SERVERS=nacos1:8848 nacos2:8848 nacos3:8848
MYSQL_MASTER_SERVICE_HOST=iotechina-dev-mysql-5.7.26
MYSQL_MASTER_SERVICE_DB_NAME= DB_NAME
MYSQL_MASTER_SERVICE_PORT=3306
MYSQL_SLAVE_SERVICE_HOST=iotechina-dev-mysql-5.7.26
MYSQL_SLAVE_SERVICE_PORT=3306
MYSQL_MASTER_SERVICE_USER=you know
MYSQL_MASTER_SERVICE_PASSWORD=you know
</code></pre>

<h3 id="mysql-连接-nacos-network">mysql 连接 nacos network</h3>

<pre><code>docker network connect nacos iotechina-dev-mysql-5.7.26
</code></pre>

<h3 id="启动-1">启动</h3>

<pre><code>docker-compose up -d
</code></pre>

<h2 id="单机集群mysql启动">单机集群mysql启动</h2>

<p><del>复制mysql驱动
在<code>nacos/plugins/</code>新建文件夹<code>mysql</code>,复制对应数据库的jar驱动到这个文件夹</del></p>

<h3 id="修改配置文件">修改配置文件</h3>

<p>编辑<code>nacos/application.properties</code>文件,加入如下内容:</p>

<pre><code>spring.datasource.platform=mysql

db.num=1
db.url.0=jdbc:mysql://dev.iotechina.com:13306/nacos?characterEncoding=utf8&amp;connectTimeout=1000&amp;socketTimeout=3000&amp;autoReconnect=true
db.user=you know
db.password=you know
</code></pre>

<p>编辑<code>nacos/conf/cluster.conf</code>(如果没有新建一个)</p>

<pre><code>192.168.0.118:8848  #注意这里和`conf/application.properties`中的`server.port`相对应
192.168.0.118:8847
192.168.0.118:8846
</code></pre>

<h3 id="启动-2">启动</h3>

<pre><code>sh startup.sh 
</code></pre>

<h1 id="spring-cloud">spring cloud</h1>

<h2 id="版本对应关系">版本对应关系</h2>

<p>由于nacos还没有纳入spring cloud体系，所以需要手动管理依赖关系。</p>

<p>版本对应关系:<a href="https://github.com/spring-cloud-incubator/spring-cloud-alibaba/wiki/%E7%89%88%E6%9C%AC%E8%AF%B4%E6%98%8E">版本说明 Wiki</a></p>

<h2 id="服务发现">服务发现</h2>

<h3 id="demo">Demo</h3>

<h4 id="启动nacos-server">启动nacos-server</h4>

<h4 id="配置应用">配置应用</h4>

<h5 id="新建两个spring-boot应用-service-consumer-service-provider">新建两个spring-boot应用:service-consumer,service-provider</h5>

<h5 id="分别配置两个应用">分别配置两个应用</h5>

<p>引入pom依赖:</p>

<pre><code>&lt;!--注意这里版本依赖关系，根据自己的springcloud版本引入对应的版本--&gt;
        &lt;dependency&gt;
        	&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;/artifactId&gt;
            &lt;version&gt;${spring-cloud-nacos-version}&lt;/version&gt;
        &lt;/dependency&gt;
</code></pre>

<p>启动类添加注解：<code>@EnableDiscoveryClient</code></p>

<p>编辑<code>application.properties</code>:</p>

<pre><code>spring.application.name=${application-name} #应用名称，根据自己需要填写
spring.cloud.nacos.discovery.server-addr=dev.iotechina.com:8848
</code></pre>

<h4 id="使用feign进行调用测试">使用feign进行调用测试</h4>

<h2 id="配置中心">配置中心</h2>

<h3 id="demo-1">Demo</h3>

<h4 id="启动nacos-server-1">启动nacos-server</h4>

<h4 id="添加配置">添加配置</h4>

<p>打开nacos网页端:
配置管理-&gt;配置列表-&gt;点击加号添加配置</p>

<pre><code>Data ID: service-consumer.properties #注意，此处一定要有.properties，并且名字和应用的${spring.application.name}一致

Group : DEFAULT_GROUP

配置格式: properties

配置内容: server.port=8845
</code></pre>

<p>点击发布</p>

<h4 id="应用配置">应用配置</h4>

<p>引入pom依赖</p>

<pre><code>&lt;!--注意这里版本依赖关系，根据自己的springcloud版本引入对应的版本--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;
            &lt;artifactId&gt;spring-cloud-starter-alibaba-nacos-config&lt;/artifactId&gt;
            &lt;version&gt;${spring-cloud-nacos-version}&lt;/version&gt;
        &lt;/dependency&gt;
</code></pre>

<p>编辑bootstrap.properties:</p>

<pre><code class="language-properties">spring.application.name=service-consumer
spring.cloud.nacos.config.server-addr=dev.iotechina.com:8848
</code></pre>

<p>启动应用，发现启动端口已变为8845</p>

<pre><code>2019-05-29 15:13:35.493  INFO 1593 --- [           main] o.s.c.a.n.c.NacosPropertySourceBuilder   : Loading nacos data, dataId: 'service-consumer.properties', group: 'DEFAULT_GROUP'
2019-05-29 15:13:35.494  INFO 1593 --- [           main] b.c.PropertySourceBootstrapConfiguration : Located property source: CompositePropertySource {name='NACOS', propertySources=[NacosPropertySource {name='service-consumer.properties'}]}
2019-05-29 15:13:35.498  INFO 1593 --- [           main] c.d.n.NacosConsumerApplication           : No active profile set, falling back to default profiles: default
2019-05-29 15:13:35.974  INFO 1593 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=825b518e-28f8-3c01-8579-67d040c18160
2019-05-29 15:13:35.991  INFO 1593 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'com.demo.nacosconsumer.feign.EchoFeign' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-29 15:13:36.033  INFO 1593 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$6f581f58] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2019-05-29 15:13:36.188  INFO 1593 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8845 (http)
</code></pre>

<h3 id="profile粒度的配置">profile粒度的配置</h3>

<p>nacos控制台新建service-consumer-test.properties文件，写入内容server.port=8847。</p>

<p>编辑bootstrap.properties:</p>

<pre><code>spring.profiles.active=test
</code></pre>

<p>重启应用，查看端口变化</p>

<h3 id="自定义-namespace-的配置">自定义 namespace 的配置</h3>

<p>Nacos 的 Namespace 的概念：
 &gt;用于进行租户粒度的配置隔离。不同的命名空间下，可以存在相同的 Group 或 Data ID 的配置。Namespace 的常用场景之一是不同环境的配置的区分隔离，例如开发测试环境和生产环境的资源（如配置、服务）隔离等。</p>

<p>在没有明确指定 ${spring.cloud.nacos.config.namespace} 配置的情况下， 默认使用的是 Nacos 上 Public 这个namespae。如果需要使用自定义的命名空间，可以通过以下配置来实现：</p>

<pre><code> spring.cloud.nacos.config.namespace=b3404bc0-d7dc-4855-b519-570ed34b62d7
</code></pre>

<p>*** 该配置必须放在 bootstrap.properties 文件中。此外 spring.cloud.nacos.config.namespace 的值是 namespace 对应的 id，id 值可以在 Nacos 的控制台获取。并且在添加配置时注意不要选择其他的 namespae，否则将会导致读取不到正确的配置。 ***</p>

<h3 id="自定义-group-的配置">自定义 Group 的配置</h3>

<p>在没有明确指定 ${spring.cloud.nacos.config.group} 配置的情况下， 默认使用的是 DEFAULT_GROUP 。如果需要自定义自己的 Group，可以通过以下配置来实现：</p>

<pre><code>spring.cloud.nacos.config.group=DEVELOP_GROUP
</code></pre>

<p>*** 该配置必须放在 bootstrap.properties 文件中。并且在添加配置时 Group 的值一定要和 spring.cloud.nacos.config.group 的配置值一致。***</p>

<h3 id="自定义扩展的-data-id-配置">自定义扩展的 Data Id 配置</h3>

<p>配置Demo：</p>

<pre><code>spring.application.name=opensource-service-provider
spring.cloud.nacos.config.server-addr=127.0.0.1:8848

# config external configuration
# 1、Data Id 在默认的组 DEFAULT_GROUP,不支持配置的动态刷新
spring.cloud.nacos.config.ext-config[0].data-id=ext-config-common01.properties

# 2、Data Id 不在默认的组，不支持动态刷新
spring.cloud.nacos.config.ext-config[1].data-id=ext-config-common02.properties
spring.cloud.nacos.config.ext-config[1].group=GLOBALE_GROUP

# 3、Data Id 既不在默认的组，也支持动态刷新
spring.cloud.nacos.config.ext-config[2].data-id=ext-config-common03.properties
spring.cloud.nacos.config.ext-config[2].group=REFRESH_GROUP
spring.cloud.nacos.config.ext-config[2].refresh=true
</code></pre>

<p>可以看到:
- 通过 <code>spring.cloud.nacos.config.ext-config[n].data-id</code> 的配置方式来支持多个 Data Id 的配置。
- 通过 <code>spring.cloud.nacos.config.ext-config[n].group</code> 的配置方式自定义 Data Id 所在的组，不明确配置的话，默认是 DEFAULT_GROUP。
- 通过 spring.cloud.nacos.config.ext-config[n].refresh 的配置方式来控制该 Data Id 在配置变更时，是否支持应用中可动态刷新， 感知到最新的配置值。默认是不支持的。</p>

<p>Note: <strong><em>多个 Data Id 同时配置时，他的优先级关系是 <code>spring.cloud.nacos.config.ext-config[n].data-id</code> 其中 n 的值越大，优先级越高。</em></strong></p>

<p>Note:*** <code>spring.cloud.nacos.config.ext-config[n].data-id</code> 的值必须带文件扩展名，文件扩展名既可支持 properties，又可以支持 yaml/yml。 此时 spring.cloud.nacos.config.file-extension 的配置对自定义扩展配置的 Data Id 文件扩展名没有影响。***</p>

<p>为了更加清晰的在多个应用间配置共享的 Data Id ，你可以通过以下的方式来配置：</p>

<pre><code>spring.cloud.nacos.config.shared-dataids=bootstrap-common.properties,all-common.properties
spring.cloud.nacos.config.refreshable-dataids=bootstrap-common.properties
</code></pre>

<p>可以看到：
- 通过 <code>spring.cloud.nacos.config.shared-dataids</code> 来支持多个共享 Data Id 的配置，多个之间用逗号隔开。
- 通过 <code>spring.cloud.nacos.config.refreshable-dataids</code> 来支持哪些共享配置的 Data Id 在配置变化时，应用中是否可动态刷新， 感知到最新的配置值，多个 Data Id 之间用逗号隔开。如果没有明确配置，默认情况下所有共享配置的 Data Id 都不支持动态刷新。</p>

<p><strong>Note</strong>:*** <code>通过 spring.cloud.nacos.config.shared-dataids</code> 来支持多个共享配置的 Data Id 时， 多个共享配置间的一个优先级的关系我们约定：按照配置出现的先后顺序，即后面的优先级要高于前面。 ***</p>

<p><strong>Note</strong>:*** 通过 1spring.cloud.nacos.config.shared-dataids1 来配置时，Data Id 必须带文件扩展名，文件扩展名既可支持 properties，也可以支持 yaml/yml。 此时 <code>spring.cloud.nacos.config.file-extension1</code> 的配置对自定义扩展配置的 Data Id 文件扩展名没有影响。 ***</p>

<p><strong>Note</strong>:<strong><em><code>spring.cloud.nacos.config.refreshable-dataids</code> 给出哪些需要支持动态刷新时，Data Id 的值也必须明确给出文件扩展名。</em></strong></p>

<h3 id="配置的优先级">配置的优先级</h3>

<p>Spring Cloud Alibaba Nacos Config 目前提供了三种配置能力从 Nacos 拉取相关的配置
- A: 通过 spring.cloud.nacos.config.shared-dataids 支持多个共享 Data Id 的配置
- B: 通过 spring.cloud.nacos.config.ext-config[n].data-id 的方式支持多个扩展 Data Id 的配置
- C: 通过内部相关规则(应用名、应用名+ Profile )自动生成相关的 Data Id 配置</p>

<p>当三种方式共同使用时，他们的一个优先级关系是:A &lt; B &lt; C</p>

<h1 id="遇到的问题">遇到的问题</h1>

<ul>
<li><p>登陆错误:`io.jsonwebtoken.security.SignatureException: Unable to obtain JCA MAC algorithm &lsquo;HmacSHA256&rsquo;: Algorithm HmacSHA256 not available</p>

<p>解决方法:</p>

<p>1.由于是我yay -S 安装的jdk，所以没有JAVA_HOME，解决方案，控制台先执行<code>export JAVA_HOME=/usr/lib/jvm/openjdk1.8.1</code>
然后执行 sh startup.sh -m standalone</p>

<p>2.设置JAVA_HOME环境变量</p>

<p>参考连接:</p>

<p><a href="https://github.com/alibaba/nacos/issues/711">https://github.com/alibaba/nacos/issues/711</a></p>

<p><a href="https://github.com/jwtk/jjwt/issues/429">https://github.com/jwtk/jjwt/issues/429</a></p></li>

<li><p>查看服务列表跳会登陆页，浏览器控制台提示401错误</p>

<p>解决方法:</p>

<p>清除浏览器缓存</p></li>

<li><p>集群模式，<code>cluster.conf</code>中的ip写<code>127.0.0.1：8848</code>报错</p></li>
</ul>

<p>解决方法:</p>

<pre><code>写ip地址，例如:`192.168.0.118`
</code></pre>


  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="https://fhxisdog.github.io/posts/skywalking%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="https://fhxisdog.github.io/posts/skywalking%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/">skywalking使用指南</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
    <nav class="next">
      <a href="https://fhxisdog.github.io/posts/alphabetarcga%E7%89%88%E6%9C%AC%E7%9A%84%E5%8C%BA%E5%88%AB/">Alpha、Beta、RC、GA版本的区别</a>
    </nav>
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
    <a href="https://fhxisdog.github.io/posts/alphabetarcga%E7%89%88%E6%9C%AC%E7%9A%84%E5%8C%BA%E5%88%AB/"><i class="fa fa-chevron-right"></i></a>
    
  </div>
</div>



  

</div>

</div>
</div>
<script src="https://fhxisdog.github.io/js/ui.js"></script>
<script src="https://fhxisdog.github.io/js/menus.js"></script>






</body>
</html>

